# Разработка meet2obsidian

## Обзор

Meet2Obsidian - это инструмент для преобразования записей встреч в структурированные заметки в Obsidian. Он использует AI для транскрибации и анализа аудио/видео файлов и создания заметок с учетом контекста.

## Структура проекта

Проект организован в следующие основные модули:

- **meet2obsidian.api** - Интеграция с внешними API (Claude, Rev.ai)
- **meet2obsidian.audio** - Обработка аудио и видео файлов
- **meet2obsidian.note** - Генерация и форматирование заметок
- **meet2obsidian.utils** - Вспомогательные утилиты (логирование, безопасность)
- **meet2obsidian.core** - Основной функционал и обработка пайплайна
- **meet2obsidian.cli** - Интерфейс командной строки
- **meet2obsidian.config** - Управление конфигурацией
- **meet2obsidian.monitor** - Мониторинг директорий и обработка новых файлов

## Основные компоненты

Для получения подробной информации о каждом компоненте, смотрите документацию в разделе `dev/components/`:

- [API Key Management](dev/components/API%20Key%20Management.md) - Управление ключами API
- [API Key Security](dev/components/API%20Key%20Security.md) - Безопасное хранение API-ключей
- [API Key Manager](dev/components/API%20Key%20Manager.md) - Управление API-ключами через системное хранилище
- [Logging](dev/components/Logging.md) - Система логирования

## Реализованные модули

### Конфигурация (Epic 6)
Модуль конфигурации обеспечивает гибкую настройку приложения:
- Загрузка и валидация конфигурации из YAML/JSON файлов
- Поддержка настроек по умолчанию
- Валидация конфигурации с помощью схем
- Поддержка переменных окружения
- Управление конфигурацией через CLI

### Логирование (Epic 7, 8)
Система структурированного логирования с поддержкой:
- Вывода в JSON-формате
- Ротации файлов логов
- Различных уровней детализации
- Контекстного логирования
- Диагностического логирования

### Безопасное хранение API-ключей (Epic 9, 10)
Система для безопасного хранения и управления API-ключами:
- Интеграция с системным хранилищем ключей (macOS Keychain)
- Безопасное шифрование ключей
- Проверка и валидация ключей
- Обработка ошибок и исключений
- CLI-команды для управления ключами
- Маскирование значений для безопасного отображения

## Рабочий процесс разработки

### Настройка окружения

1. Клонировать репозиторий:
   ```bash
   git clone https://github.com/yourusername/meet2obsidian.git
   cd meet2obsidian
   ```

2. Создать и активировать виртуальное окружение:
   ```bash
   python -m venv venv
   source venv/bin/activate  # Linux/macOS
   venv\Scripts\activate  # Windows
   ```

3. Установить зависимости:
   ```bash
   pip install -r requirements.txt
   ```

### Запуск тестов

```bash
# Запуск всех модульных тестов
./tests/run_tests.py

# Запуск интеграционных тестов
./tests/run_tests.py --integration

# Запуск конкретного теста
./tests/run_tests.py tests/unit/test_logging.py
```

### Стиль кода

Проект следует стандартам PEP 8 для Python. Используйте `black` и `flake8` для форматирования и проверки кода:

```bash
black meet2obsidian/ tests/
flake8 meet2obsidian/ tests/
```

## Документация

Документация проекта разделена на следующие разделы:

- **/docs/user/** - Пользовательская документация
- **/docs/dev/** - Документация для разработчиков
- **/docs/api/** - Документация API

Для создания новой документации компонента, используйте шаблон в `/docs/assets/templates/component-template.md`.

## Рабочий процесс с Git

1. Создайте ветку для новой функции или исправления:
   ```bash
   git checkout -b feature/my-feature
   ```

2. Внесите изменения и зафиксируйте их:
   ```bash
   git add .
   git commit -m "Добавлена новая функция X"
   ```

3. Отправьте изменения в репозиторий:
   ```bash
   git push origin feature/my-feature
   ```

4. Создайте Pull Request для объединения изменений в основную ветку.

## Реализованные модули

### Конфигурация (Epic 6)
Модуль конфигурации обеспечивает чтение и валидацию настроек приложения.

### Логирование (Epic 7, 8)
Система структурированного логирования с поддержкой вывода в JSON, ротацией файлов и различными уровнями детализации.

### Безопасное хранение API-ключей (Epic 9, 10)
Система для безопасного хранения и управления API-ключами:
- Интеграция с системным хранилищем ключей (macOS Keychain)
- Безопасное шифрование ключей
- Проверка и валидация ключей
- Обработка ошибок и исключений
- CLI-команды для управления ключами
- Маскирование значений для безопасного отображения

## Дорожная карта

Информацию о планируемых функциях и задачах можно найти в [дорожной карте](internal_docs/Дорожная%20карта.md).