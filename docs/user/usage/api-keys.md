# Управление API-ключами

## Обзор

Meet2Obsidian использует несколько внешних API-сервисов для обработки аудио/видео и генерации текста. Для использования этих сервисов необходимо получить и настроить соответствующие API-ключи.

## Требуемые API-ключи

### Rev.ai API

[Rev.ai](https://www.rev.ai/) используется для транскрибации аудио в текст. Вам потребуется API-ключ Rev.ai для использования этой функциональности.

#### Получение ключа Rev.ai:

1. Зарегистрируйтесь на [Rev.ai](https://www.rev.ai/auth/signup)
2. После входа в систему перейдите в раздел "Access Token"
3. Создайте новый API-ключ
4. Скопируйте ключ для использования в Meet2Obsidian

### Claude API

[Claude API](https://anthropic.com/) от Anthropic используется для анализа транскрипции и создания структурированных заметок. Вам потребуется API-ключ Claude для использования этой функциональности.

#### Получение ключа Claude:

1. Зарегистрируйтесь на [Anthropic Console](https://console.anthropic.com/)
2. После входа в систему перейдите в раздел "API Keys"
3. Создайте новый API-ключ
4. Скопируйте ключ для использования в Meet2Obsidian

## Настройка API-ключей

### Через командную строку

Meet2Obsidian предоставляет удобный способ настройки API-ключей через командную строку:

```bash
# Интерактивная настройка всех API-ключей
meet2obsidian config set-api-keys

# Настройка конкретного API-ключа
meet2obsidian config set-api-key --service rev_ai
meet2obsidian config set-api-key --service claude
```

### Через скрипт настройки

Вы также можете использовать скрипт настройки, который проведет вас через процесс настройки:

```bash
python scripts/setup_api_keys.py
```

## Безопасность API-ключей

Meet2Obsidian сохраняет ваши API-ключи в системном хранилище ключей (keychain) вашей операционной системы. Это обеспечивает высокий уровень безопасности:

- API-ключи никогда не хранятся в открытом виде в файлах конфигурации
- Доступ к ключам защищен механизмами безопасности операционной системы
- Ключи не передаются в аргументах командной строки
- Доступ к ключам ограничен текущим пользователем

## Проверка API-ключей

Чтобы проверить, что ваши API-ключи правильно настроены и работают:

```bash
meet2obsidian config test-api-keys
```

Эта команда проверит наличие и работоспособность каждого API-ключа.

## Удаление API-ключей

Если вам нужно удалить сохраненные API-ключи:

```bash
# Удаление всех API-ключей
meet2obsidian config delete-api-keys

# Удаление конкретного API-ключа
meet2obsidian config delete-api-key --service rev_ai
```

## Устранение неполадок

### Проблемы с доступом к хранилищу ключей

Если у вас возникли проблемы с доступом к системному хранилищу ключей:

1. Убедитесь, что у вас есть необходимые права доступа
2. На macOS проверьте настройки Keychain Access
3. Попробуйте перезапустить приложение
4. Убедитесь, что у вас установлена библиотека keyring: `pip install keyring`

### Некорректные API-ключи

Если тесты API-ключей не проходят:

1. Проверьте правильность введенных ключей
2. Убедитесь, что аккаунты API-сервисов активны
3. Проверьте наличие ограничений на использование API
4. Попробуйте создать новые ключи и настроить их заново