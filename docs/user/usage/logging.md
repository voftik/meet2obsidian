# Логирование

## Обзор

Meet2Obsidian использует структурированное логирование для отслеживания работы программы и диагностики проблем. Логи содержат информацию о работе программы, ошибках и других событиях.

## Уровни логирования

Meet2Obsidian использует следующие уровни логирования (в порядке убывания детализации):

- **DEBUG** - Подробная информация, полезная для отладки
- **INFO** - Подтверждение нормальной работы программы
- **WARNING** - Указание на потенциальную проблему, которая не мешает работе
- **ERROR** - Ошибка, которая помешала выполнению определенной операции
- **CRITICAL** - Серьезная ошибка, которая может привести к прекращению работы программы

## Настройка логирования

Настройка логирования производится в конфигурационном файле. Можно указать:

- Уровень детализации логов
- Путь к файлу логов
- Включение/отключение ротации файлов логов
- Максимальный размер файла логов
- Количество сохраняемых архивных файлов

Пример настройки в файле конфигурации:

```yaml
logging:
  level: "info"  # Уровень логирования (debug, info, warning, error, critical)
  file: "~/.meet2obsidian/logs/app.log"  # Путь к файлу логов
  rotate: true  # Включить ротацию файлов
  max_size_mb: 10  # Максимальный размер файла в МБ
  backup_count: 5  # Количество архивных файлов
```

## Просмотр логов

### Через командную строку

Meet2Obsidian предоставляет команды для просмотра логов:

```bash
# Показать последние 10 записей логов
meet2obsidian logs show --count 10

# Показать только ошибки
meet2obsidian logs show --level error

# Очистить файл логов
meet2obsidian logs clear
```

### Расположение файлов логов

По умолчанию файлы логов располагаются в следующих директориях:

- **Linux/macOS**: `~/.meet2obsidian/logs/`
- **Windows**: `%APPDATA%\meet2obsidian\logs\`

При ротации файлов создаются архивные файлы с именами вида `app.log.1`, `app.log.2` и т.д.

## Диагностика проблем

При возникновении проблем с работой программы, логи могут помочь определить причину. Если вы обращаетесь за поддержкой, полезно предоставить файлы логов.

### Как повысить детализацию логирования

Для отладки проблем может потребоваться более детальная информация. Чтобы повысить уровень детализации:

1. Измените уровень логирования на `debug` в конфигурационном файле
2. Перезапустите приложение
3. Воспроизведите проблему
4. Проанализируйте логи или отправьте их в службу поддержки

### Что включают в себя логи

Логи содержат следующую информацию:

- Временную метку события
- Уровень логирования
- Имя компонента/модуля
- Сообщение о событии
- Контекстную информацию (например, идентификаторы файлов, пользователей и т.д.)
- Трассировку стека при ошибках

Пример записи лога:
```
{"timestamp": "2023-05-12T15:30:45.123456Z", "level": "error", "logger": "meet2obsidian.audio.extractor", "event": "Не удалось обработать аудиофайл", "file_path": "/path/to/meeting.mp4", "error_type": "FileNotFoundError"}
```

## Дополнительная информация

Для разработчиков, которые хотят использовать API логирования в своих расширениях или модификациях программы, доступна [документация разработчика по логированию](../../dev/components/Logging.md).